[build]
publish = "public"
functions = "netlify/functions"

[functions]
node_bundler = "esbuild"

# Tambahkan konfigurasi Blobs
[functions.environment]
NETLIFY_BLOBS_SITE_ID = "e44d61f4-24fa-4611-bb94-0ea4c4ea83fd"

[functions."generate-story"]
external_node_modules = ["@sparticuz/chromium"]
included_files = ["public/**"]
timeout = 26

[functions."generate-brochure"]
included_files = ["public/**"]
timeout = 26

# Comment scheduled function sampai cache diperbaiki
# [functions.cache-jadwal-data]
#   schedule = "*/10 * * * *"

[functions."process-tarif"]
external_node_modules = ["@sparticuz/chromium", "exceljs"]
included_files = ["public/**"]
timeout = 60